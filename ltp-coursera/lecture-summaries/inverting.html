<html>
    <head>
        <title>
            Inverting a Dictionary
        </title>
    </head>
    <body>
        <h1>
            Inverting a Dictionary
        </h1>
        <h3>
            Switching Keys and Values
        </h3>
        <p>
            Dictionaries have keys that are unique and each key has a value associated with it. For example, here is a dictionary mapping fruit to their colours:
            <pre>
fruit_to_colour = {'watermelon': 'green', 'pomegranate': 'red',
'peach': 'orange', 'cherry': 'red', 'pear': 'green',
'banana': 'yellow', 'plum': 'purple', 'orange': 'orange'}</pre>
        </p>
        <p>
            To invert the dictionary, that is, switch the mapping to be colours to fruit, here is one approach:
            <pre>
>>> colour_to_fruit = {}
>>> for fruit in fruit_to_colour:
    colour = fruit_to_colour[fruit]
    colour_to_fruit[colour] = fruit


>>> colour_to_fruit
{'orange': 'orange', 'purple': 'plum', 'green': 'pear', 'yellow': 'banana', 'red': 'pomegranate'}</pre>
        </p>
        <p>
            The resulting dictionary is missing some fruit. This happens since colours, which are keys, are unique so later assignments using the same colour replace earlier entries. A way to remedy this is to map colours to a list of fruit.
        </p>

        <h3>
            Mapping A Key To A List
        </h3>
        <p>
            For the example above, we need to consider two cases when adding a colour and a fruit to the dictionary:<br/>
            <ol>
                <li>
                    If the colour is not a key in the dictionary, add it with its value being a single element a list consisting of the fruit.
                </li>
                <li>
                    If the colour is already a key, append the fruit to the list of fruit associated with that key.
                </li>
            </ol>
        <pre>
>>> colour_to_fruit = {}
>>> for fruit in fruit_to_colour:
    # What colour is the fruit?
    colour = fruit_to_colour[fruit]
    if not (colour in colour_to_fruit):
        colour_to_fruit[colour] = [fruit]
    else:
        colour_to_fruit[colour].append(fruit)


>>> colour_to_fruit
{'orange': ['peach', 'orange'], 'purple': ['plum'], 'green': ['watermelon', 'pear'], 'yellow': ['banana'], 'red': ['cherry', 'pomegranate']} </pre>
        <hr>
        <center>
            Jennifer Campbell &bull; Paul Gries<br>
            University of Toronto
        </center>
        <hr>
    </body>
</html>